\begin{tikzpicture}[declare function={r=4;}]

  \path 
    (0,0) coordinate (O)
    (120:r) coordinate (A)
    (210:r) coordinate (B)
    (-30:r) coordinate (C)
    
    ($(B)!(A)!(C)$) coordinate (A_0)
    ($(A)!(B)!(C)$) coordinate (B_0)
    ($(A)!(C)!(B)$) coordinate (C_0)

    (intersection of A--A_0 and B--B_0) coordinate (H)

    ($(B)!0.5!(C)$) coordinate (A_1)
    ($(A)!0.5!(C)$) coordinate (B_1)
    ($(A)!0.5!(B)$) coordinate (C_1)

    ($(A)!0.5!(H)$) coordinate (A_2)
    ($(B)!0.5!(H)$) coordinate (B_2)
    ($(C)!0.5!(H)$) coordinate (C_2)

    ($(H)!0.5r!(O)$) coordinate (Op) % Đổi từ O' sang Op để tránh lỗi
  ;

  \draw [teal]
    (A)--(A_0)  
    (B)--(B_0)  
    (C)--(C_0)
  ;

  \draw [dashed,blue]
    (A_1)--(B_1)--(C_1)--cycle
  ;

  \draw [dashed,red]
    (A_2)--(B_2)--(C_2)--cycle
  ;

  \draw [dashed, blue]
    let \p1=($(Op)-(B_1)$) in (Op) circle ({veclen(\x1,\y1)})
  ;

  \draw 
    (O) circle (r)
    (A)--(B)--(C)--cycle
  ;

  \foreach \name/\angle/\label in {
    O/-90/O, A/90/A, B/180/B, C/0/C,
    A_0/-100/A_0, B_0/45/B_0, C_0/180/C_0, 
    H/-50/H,
    A_1/0/A_1, B_1/90/B_1, C_1/180/C_1, 
    A_2/150/A_2, B_2/170/B_2, C_2/-60/C_2,
    Op/-90/O'
  } {
    (\name) circle (1pt) 
    node[shift={(\angle:7pt)}, font=\scriptsize] {$\label$};
  }

\end{tikzpicture}