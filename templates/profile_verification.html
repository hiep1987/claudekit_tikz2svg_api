{% extends "base.html" %}

{# Configuration flags #}
{% set include_highlight_js = true %}
{% set include_codemirror = true %}
{% set include_file_card = false %}
{% set include_navigation = true %}
{% set include_login_modal = true %}
{% set include_navbar = true %}

{# SEO Override #}
{% block meta %}
<meta name="description" content="XÃ¡c thá»±c danh tÃ­nh tÃ i khoáº£n TikZ to SVG">
<meta name="keywords" content="TikZ, SVG, identity verification, account verification">
<meta name="author" content="TikZ to SVG">
<meta name="robots" content="index, follow">
<meta property="og:title" content="XÃ¡c thá»±c danh tÃ­nh - TikZ to SVG">
<meta property="og:description" content="XÃ¡c thá»±c danh tÃ­nh tÃ i khoáº£n TikZ to SVG">
<meta property="og:type" content="website">
<meta property="og:locale" content="vi_VN">
{% endblock %}

{# Page Title #}
{% block title %}XÃ¡c thá»±c danh tÃ­nh - TikZ to SVG{% endblock %}

{# Page-specific CSS #}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/profile_verification.css', v='1.0') }}">
{% endblock %}

{# Global JavaScript Variables #}
{% block head_js %}
<script>
    window.isLoggedIn = false;
    window.activeFeedbackCount = 0;
    window.isOwner = false;
</script>
<script>
    // Set values from server
    {% if current_user.is_authenticated %}
    window.isLoggedIn = true;
    {% endif %}
    {% if is_owner %}
    window.isOwner = true;
    {% endif %}
</script>
{% endblock %}

{# Page Content #}
{% block content %}
<div class="page-container verification-container" {% if has_pending_verification %}data-pending-verification="true"{% endif %}>
    <div class="verification-header">
        <h1>ğŸ” XÃ¡c thá»±c danh tÃ­nh tÃ i khoáº£n</h1>
        <p>Äá»ƒ hoÃ n táº¥t quÃ¡ trÃ¬nh xÃ¡c thá»±c, vui lÃ²ng Ä‘á»c vÃ  Ä‘á»“ng Ã½ vá»›i cÃ¡c quy Ä‘á»‹nh sau</p>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash flash-{{ 'success' if category == 'success' else 'error' if category == 'error' else 'info' }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Terms and Conditions Section -->
    <div class="terms-section">
        <h3>ğŸ“‹ Quy Ä‘á»‹nh vÃ  Ä‘iá»u khoáº£n sá»­ dá»¥ng</h3>
        
        <h4>1. Quy Ä‘á»‹nh soáº¡n tháº£o code TikZ</h4>
        <ul>
            <li>Code TikZ pháº£i tuÃ¢n thá»§ cÃº phÃ¡p chuáº©n vÃ  khÃ´ng chá»©a mÃ£ Ä‘á»™c háº¡i</li>
            <li>KhÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng code Ä‘á»ƒ táº¡o ná»™i dung pháº£n Ä‘á»™ng, báº¡o lá»±c hoáº·c vi pháº¡m phÃ¡p luáº­t</li>
            <li>Code pháº£i Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a vÃ  cÃ³ hiá»‡u suáº¥t tá»‘t</li>
            <li>Khuyáº¿n khÃ­ch sá»­ dá»¥ng comments Ä‘á»ƒ giáº£i thÃ­ch code phá»©c táº¡p</li>
        </ul>

        <h4>2. Báº£n quyá»n vÃ  sá»­ dá»¥ng code</h4>
        <ul>
            <li>User giá»¯ báº£n quyá»n Ä‘á»‘i vá»›i code TikZ do mÃ¬nh táº¡o ra</li>
            <li>Khi chia sáº» code, user Ä‘á»“ng Ã½ cho phÃ©p cá»™ng Ä‘á»“ng xem vÃ  há»c há»i</li>
            <li>KhÃ´ng Ä‘Æ°á»£c sao chÃ©p code cá»§a ngÆ°á»i khÃ¡c mÃ  khÃ´ng cÃ³ sá»± cho phÃ©p</li>
            <li>Khuyáº¿n khÃ­ch chia sáº» vÃ  há»— trá»£ láº«n nhau trong cá»™ng Ä‘á»“ng</li>
        </ul>

        <h4>3. ChÃ­nh sÃ¡ch riÃªng tÆ°</h4>
        <ul>
            <li>ThÃ´ng tin cÃ¡ nhÃ¢n Ä‘Æ°á»£c báº£o máº­t theo quy Ä‘á»‹nh phÃ¡p luáº­t</li>
            <li>Dá»¯ liá»‡u code vÃ  file SVG Ä‘Æ°á»£c lÆ°u trá»¯ an toÃ n</li>
            <li>User cÃ³ quyá»n yÃªu cáº§u xÃ³a dá»¯ liá»‡u cÃ¡ nhÃ¢n</li>
            <li>KhÃ´ng chia sáº» thÃ´ng tin user vá»›i bÃªn thá»© ba khÃ´ng Ä‘Æ°á»£c phÃ©p</li>
        </ul>

        <h4>4. TrÃ¡ch nhiá»‡m cá»§a user</h4>
        <ul>
            <li>Sá»­ dá»¥ng dá»‹ch vá»¥ má»™t cÃ¡ch cÃ³ trÃ¡ch nhiá»‡m vÃ  Ä‘Ãºng má»¥c Ä‘Ã­ch</li>
            <li>KhÃ´ng spam hoáº·c táº¡o nhiá»u tÃ i khoáº£n áº£o</li>
            <li>BÃ¡o cÃ¡o cÃ¡c váº¥n Ä‘á» báº£o máº­t hoáº·c lá»—i há»‡ thá»‘ng khi phÃ¡t hiá»‡n</li>
            <li>TÃ´n trá»ng quyá»n riÃªng tÆ° vÃ  tÃ¡c pháº©m cá»§a ngÆ°á»i khÃ¡c</li>
        </ul>
    </div>

    <!-- Verification Form -->
    <div class="verification-form">
        <form method="POST" action="{{ url_for('profile_verification') }}">
            <div class="agreement-section">
                <label class="agreement-checkbox">
                    <input type="checkbox" name="agree_terms" id="agree_terms" required>
                    <span class="checkmark"></span>
                    <span class="agreement-text">
                        TÃ´i Ä‘Ã£ Ä‘á»c, hiá»ƒu vÃ  Ä‘á»“ng Ã½ vá»›i táº¥t cáº£ cÃ¡c quy Ä‘á»‹nh vÃ  Ä‘iá»u khoáº£n sá»­ dá»¥ng trÃªn
                    </span>
                </label>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary verification-btn" id="submit-verification">
                    <i class="fas fa-shield-alt"></i> XÃ¡c thá»±c tÃ i khoáº£n
                </button>
                <a href="{{ url_for('profile_svg_files') }}" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i> Quay láº¡i trang cÃ¡ nhÃ¢n
                </a>
            </div>
        </form>
    </div>

    <!-- Verification Status -->
    {% if current_user.identity_verified %}
    <div class="verification-status verified">
        <div class="status-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="status-content">
            <h3>âœ… TÃ i khoáº£n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c</h3>
            <p>TÃ i khoáº£n cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c thÃ nh cÃ´ng. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘áº§y Ä‘á»§ cÃ¡c tÃ­nh nÄƒng cá»§a há»‡ thá»‘ng.</p>
        </div>
    </div>
    {% elif has_pending_verification %}
    <div class="verification-status pending">
        <div class="status-icon">
            <i class="fas fa-clock"></i>
        </div>
        <div class="status-content">
            <h3>â³ Äang chá» xÃ¡c thá»±c</h3>
            <p>YÃªu cáº§u xÃ¡c thá»±c cá»§a báº¡n Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½. Vui lÃ²ng chá» admin phÃª duyá»‡t.</p>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}

{# Page-specific JavaScript #}
{% block extra_js %}
<!-- External JavaScript Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/latex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/stex/stex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/display/placeholder.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Application JavaScript -->
<script src="{{ url_for('static', filename='js/navigation.js', v='1.0') }}"></script>
<script src="{{ url_for('static', filename='js/profile_verification.js', v='1.0') }}"></script>
{% endblock %}